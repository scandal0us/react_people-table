{"version":3,"sources":["api/getPeople.js","Person.js","PeopleTable.js","App.js","index.js"],"names":["getPeople","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","response","peopleFromServer","wrap","_context","prev","next","fetch","sent","json","abrupt","map","person","index","objectSpread","id","age","died","born","motherName","mother","fatherName","father","century","Math","ceil","children","filter","child","name","join","stop","apply","this","arguments","Person","_classNames","handleSelect","isSelected","react_default","createElement","onClick","className","classNames","defineProperty","concat","Person--born-before_1650","Person--died-before_1800","Person--female","sex","Person--male","Person--age-65","PeopleTable","state","selectedPersonId","_this2","_this$props","props","people","onSortFieldChanged","src_Person","key","setState","React","Component","getSortedPeople","sortField","query","normalizedQuery","toLowerCase","includes","getPeopleByFilter","sort","b","localeCompare","App","visiblePeople","setSortField","_this","handleQueryChange","event","target","value","_ref2","_this$state","length","type","onChange","src_PeopleTable","ReactDOM","render","src_App_0","test","document","getElementById"],"mappings":"wQAoBeA,EApBA,eAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,aACH,oEADGF,EAAAE,KAAA,EAEOC,MADV,qEADG,cAEVN,EAFUG,EAAAI,KAAAJ,EAAAE,KAAA,EAGeL,EAASQ,OAHxB,cAGVP,EAHUE,EAAAI,KAAAJ,EAAAM,OAAA,SAKTR,EAAiBS,IAAI,SAACC,EAAQC,GAAT,OAAAlB,OAAAmB,EAAA,EAAAnB,CAAA,CAC1BoB,GAAIF,EAAQ,GACTD,EAFuB,CAG1BI,IAAKJ,EAAOK,KAAOL,EAAOM,KAC1BC,WAAYP,EAAOQ,OACnBC,WAAYT,EAAOU,OACnBC,QAASC,KAAKC,KAAKb,EAAOK,KAAO,KACjCS,SAAUxB,EACPyB,OAAO,SAAAC,GAAK,OACXA,EAAMN,SAAWV,EAAOiB,MAAQD,EAAMR,SAAWR,EAAOiB,OAEzDlB,IAAI,SAAAiB,GAAK,OAAIA,EAAMC,OAAMC,KAAK,WAhBnB,wBAAA1B,EAAA2B,SAAA/B,MAAH,yBAAAN,EAAAsC,MAAAC,KAAAC,YAAA,0BC2CAC,EAvCA,SAAAzC,GAAA,IAAA0C,EAAGxB,EAAHlB,EAAGkB,OAAQyB,EAAX3C,EAAW2C,aAAcC,EAAzB5C,EAAyB4C,WAAzB,OACbC,EAAAzC,EAAA0C,cAAA,MACEC,QAASJ,EACTK,UAAWC,KAAUP,EAAA,GAAAzC,OAAAiD,EAAA,EAAAjD,CAAAyC,EAAA,oBAAAS,OACEjC,EAAOW,QADT,aAC6B,GAD7B5B,OAAAiD,EAAA,EAAAjD,CAAAyC,EAAA,oBAED,GAFCzC,OAAAiD,EAAA,EAAAjD,CAAAyC,EAGnB,6BAA8BE,GAHXF,KAMrBG,EAAAzC,EAAA0C,cAAA,UAAK5B,EAAOG,IACZwB,EAAAzC,EAAA0C,cAAA,MAAIE,UAAWC,IAAW,CACxBG,2BAA4BlC,EAAOM,KAAO,KAC1C6B,2BAA4BnC,EAAOK,KAAO,QAE1CL,EAAOiB,MAETU,EAAAzC,EAAA0C,cAAA,MAAIE,UAAWC,IAAW,CACxBK,iBAAiC,MAAfpC,EAAOqC,IACzBC,eAA+B,MAAftC,EAAOqC,OAGtBrC,EAAOqC,KAEVV,EAAAzC,EAAA0C,cAAA,UAAK5B,EAAOM,MACZqB,EAAAzC,EAAA0C,cAAA,UAAK5B,EAAOK,MACZsB,EAAAzC,EAAA0C,cAAA,UAAK5B,EAAOO,YACZoB,EAAAzC,EAAA0C,cAAA,UAAK5B,EAAOS,YACZkB,EAAAzC,EAAA0C,cAAA,MACEE,UAAWC,IAAW,CACpBQ,iBAAkBvC,EAAOI,KAAO,MAGjCJ,EAAOI,KAEVuB,EAAAzC,EAAA0C,cAAA,UAAK5B,EAAOW,SACZgB,EAAAzC,EAAA0C,cAAA,UAAK5B,EAAOc,YCMD0B,6MAxCbC,MAAQ,CACNC,iBAAkB,8EAGX,IAAAC,EAAAtB,KAAAuB,EACgCvB,KAAKwB,MAApCC,EADDF,EACCE,OAAQC,EADTH,EACSG,mBACRL,EAAqBrB,KAAKoB,MAA1BC,iBACR,OACEf,EAAAzC,EAAA0C,cAAA,SAAOE,UAAU,eACfH,EAAAzC,EAAA0C,cAAA,aACED,EAAAzC,EAAA0C,cAAA,UACED,EAAAzC,EAAA0C,cAAA,MAAIC,QAAS,kBAAMkB,EAAmB,QAAtC,MACApB,EAAAzC,EAAA0C,cAAA,MAAIC,QAAS,kBAAMkB,EAAmB,UAAtC,QACApB,EAAAzC,EAAA0C,cAAA,MAAIC,QAAS,kBAAMkB,EAAmB,SAAtC,OACApB,EAAAzC,EAAA0C,cAAA,MAAIC,QAAS,kBAAMkB,EAAmB,UAAtC,QACApB,EAAAzC,EAAA0C,cAAA,MAAIC,QAAS,kBAAMkB,EAAmB,UAAtC,QACApB,EAAAzC,EAAA0C,cAAA,oBACAD,EAAAzC,EAAA0C,cAAA,oBACAD,EAAAzC,EAAA0C,cAAA,MAAIC,QAAS,kBAAMkB,EAAmB,SAAtC,OACApB,EAAAzC,EAAA0C,cAAA,MAAIC,QAAS,kBAAMkB,EAAmB,aAAtC,WACApB,EAAAzC,EAAA0C,cAAA,wBAGJD,EAAAzC,EAAA0C,cAAA,aACGkB,EAAO/C,IAAI,SAAAC,GAAM,OAChB2B,EAAAzC,EAAA0C,cAACoB,EAAD,CACEhD,OAAQA,EACRiD,IAAKjD,EAAOG,GACZuB,WAAY1B,EAAOG,KAAOuC,EAC1BjB,aAAc,WACZkB,EAAKO,SAAS,CAAER,iBAAkB1C,EAAOG,mBA/B/BgD,IAAMC,WCC1BC,EAAkB,SAACP,EAAQQ,EAAWC,GAC1C,IAAMC,EAAkBD,EAAME,cAU9B,OAR0B,SAACX,GAAD,OACxBA,EAAO/B,OAAO,SAACf,GACb,MAAO,CAACA,EAAOiB,KAAMjB,EAAOO,WAAYP,EAAOS,YAC5CS,KAAK,MACLuC,cAAcC,SAASF,KAIvBG,CAAkBb,GACtBc,KAAK,SAAC1E,EAAG2E,GACR,cAAe3E,EAAEoE,IACf,IAAK,SACH,OAAOpE,EAAEoE,GAAWQ,cAAcD,EAAEP,IAEtC,IAAK,SACL,IAAK,UACH,OAAOpE,EAAEoE,GAAaO,EAAEP,GAE1B,QACE,OAAO,MA6DFS,6MAvDbjB,OAAS,KACTL,MAAQ,CACNuB,cAAe,GACfV,UAAW,GACXC,MAAO,MASTU,aAAe,SAACX,GACdY,EAAKhB,SAAS,SAAApE,GAAA,IAAGyE,EAAHzE,EAAGyE,MAAH,MAAgB,CAC5BD,YACAU,cAAeX,EAAgBa,EAAKpB,OAAQQ,EAAWC,SAI3DY,kBAAoB,SAACC,GACnB,IAAMb,EAAQa,EAAMC,OAAOC,MAC3BJ,EAAKhB,SAAS,SAAAqB,GAAA,IAAGjB,EAAHiB,EAAGjB,UAAH,MAAoB,CAChCC,QACAS,cAAeX,EAAgBa,EAAKpB,OAAQQ,EAAWC,kNAhBrC1E,WAApBwC,KAAKyB,cAELzB,KAAK6B,SAAS,CAAEc,cAAe3C,KAAKyB,4IAkB7B,IAAA0B,EACqCnD,KAAKoB,MAAzCuB,EADDQ,EACCR,cAAeV,EADhBkB,EACgBlB,UAAWC,EAD3BiB,EAC2BjB,MAElC,OACE5B,EAAAzC,EAAA0C,cAAA,OAAKE,UAAU,OACbH,EAAAzC,EAAA0C,cAAA,UACGoC,EAAcS,OACd,IAFH,mBAIG,IACAnB,GAGH3B,EAAAzC,EAAA0C,cAAA,SACE8C,KAAK,OACLJ,MAAOf,EACPoB,SAAUtD,KAAK8C,oBAEjBxC,EAAAzC,EAAA0C,cAACgD,EAAD,CACE9B,OAAQkB,EACRjB,mBAAoB1B,KAAK4C,uBAjDjBd,IAAMC,WC3BxByB,IAASC,OAAOnD,EAAAzC,EAAA0C,cAACmD,EAAD,CAAKC,KAAM,MAASC,SAASC,eAAe","file":"static/js/main.6421931c.chunk.js","sourcesContent":["const getPeople = async () => {\n  const link = 'https://mate-academy.github.io/react_people-table/api/people.json';\n  const response = await fetch(link);\n  const peopleFromServer = await response.json();\n\n  return peopleFromServer.map((person, index) => ({\n    id: index + 1,\n    ...person,\n    age: person.died - person.born,\n    motherName: person.mother,\n    fatherName: person.father,\n    century: Math.ceil(person.died / 100),\n    children: peopleFromServer\n      .filter(child => (\n        child.father === person.name || child.mother === person.name\n      ))\n      .map(child => child.name).join(', '),\n  }));\n};\n\nexport default getPeople;\n","import React from 'react';\nimport './App.css';\nimport classNames from 'classnames/bind';\n\nconst Person = ({ person, handleSelect, isSelected }) => (\n  <tr\n    onClick={handleSelect}\n    className={classNames({\n      [`person--lived-in-${person.century}-century`]: true,\n      PeopleTable__row: true,\n      'PeopleTable__row--selected': isSelected,\n    })}\n  >\n    <td>{person.id}</td>\n    <td className={classNames({\n      'Person--born-before_1650': person.born < 1650,\n      'Person--died-before_1800': person.died > 1800,\n    })}\n    >{person.name}\n    </td>\n    <td className={classNames({\n      'Person--female': person.sex === 'f',\n      'Person--male': person.sex === 'm',\n    })}\n    >\n      {person.sex}\n    </td>\n    <td>{person.born}</td>\n    <td>{person.died}</td>\n    <td>{person.motherName}</td>\n    <td>{person.fatherName}</td>\n    <td\n      className={classNames({\n        'Person--age-65': person.age >= 65,\n      })}\n    >\n      {person.age}\n    </td>\n    <td>{person.century}</td>\n    <td>{person.children}</td>\n  </tr>\n);\n\nexport default Person;\n","import React from 'react';\nimport Person from './Person';\nimport './App.css';\n\nclass PeopleTable extends React.Component {\n  state = {\n    selectedPersonId: null,\n  };\n\n  render() {\n    const { people, onSortFieldChanged } = this.props;\n    const { selectedPersonId } = this.state;\n    return (\n      <table className=\"PeopleTable\">\n        <thead>\n          <tr>\n            <th onClick={() => onSortFieldChanged('id')}>Id</th>\n            <th onClick={() => onSortFieldChanged('name')}>Name</th>\n            <th onClick={() => onSortFieldChanged('sex')}>Sex</th>\n            <th onClick={() => onSortFieldChanged('born')}>Born</th>\n            <th onClick={() => onSortFieldChanged('died')}>Died</th>\n            <th>Mother</th>\n            <th>Father</th>\n            <th onClick={() => onSortFieldChanged('age')}>Age</th>\n            <th onClick={() => onSortFieldChanged('century')}>Century</th>\n            <th>Children</th>\n          </tr>\n        </thead>\n        <tbody>\n          {people.map(person => (\n            <Person\n              person={person}\n              key={person.id}\n              isSelected={person.id === selectedPersonId}\n              handleSelect={() => {\n                this.setState({ selectedPersonId: person.id });\n              }}\n            />\n          ))}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nexport default PeopleTable;\n","import React from 'react';\nimport './App.css';\nimport getPeople from './api/getPeople';\nimport PeopleTable from './PeopleTable';\n\nconst getSortedPeople = (people, sortField, query) => {\n  const normalizedQuery = query.toLowerCase();\n\n  const getPeopleByFilter = (people) => (\n    people.filter((person) => {\n      return [person.name, person.motherName, person.fatherName]\n        .join(', ')\n        .toLowerCase().includes(normalizedQuery);\n    })\n  );\n\n  return getPeopleByFilter(people, query)\n    .sort((a, b) => {\n      switch (typeof a[sortField]) {\n        case 'string':\n          return a[sortField].localeCompare(b[sortField]);\n\n        case 'number':\n        case 'boolean':\n          return a[sortField] - b[sortField];\n\n        default:\n          return 0;\n      }\n    });\n};\n\nclass App extends React.Component {\n  people = [];\n  state = {\n    visiblePeople: [],\n    sortField: '',\n    query: '',\n  };\n\n  async componentDidMount() {\n    this.people = await getPeople();\n\n    this.setState({ visiblePeople: this.people });\n  }\n\n  setSortField = (sortField) => {\n    this.setState(({ query }) => ({\n      sortField,\n      visiblePeople: getSortedPeople(this.people, sortField, query),\n    }));\n  };\n\n  handleQueryChange = (event) => {\n    const query = event.target.value;\n    this.setState(({ sortField }) => ({\n      query,\n      visiblePeople: getSortedPeople(this.people, sortField, query),\n    }));\n  };\n\n  render() {\n    const { visiblePeople, sortField, query } = this.state;\n\n    return (\n      <div className=\"App\">\n        <h1>\n          {visiblePeople.length}\n          {' '}\n          people sorted by\n          {' '}\n          {sortField}\n        </h1>\n\n        <input\n          type=\"text\"\n          value={query}\n          onChange={this.handleQueryChange}\n        />\n        <PeopleTable\n          people={visiblePeople}\n          onSortFieldChanged={this.setSortField}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App test={123} />, document.getElementById('root'));\n"],"sourceRoot":""}