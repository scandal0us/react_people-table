{"version":3,"sources":["Person.js","PeopleTable.js","App.js","index.js"],"names":["Person","_ref","_classNames","person","handleSelect","isSelected","react_default","a","createElement","key","id","onClick","className","classNames","Object","defineProperty","concat","century","Person--born-before_1650","born","Person--died-before_1800","died","name","Person--female","sex","Person--male","mother","father","Person--age-65","age","children","PeopleTable","state","selectedPersonId","_this2","this","_this$props","props","people","onSortFieldChanged","map","src_Person","setState","React","Component","getPeopleFromServer","asyncToGenerator","regenerator_default","mark","_callee","response","peopleFromServer","wrap","_context","prev","next","fetch","sent","json","abrupt","index","objectSpread","Math","ceil","filter","child","join","stop","apply","arguments","getSortedPeople","sortField","query","normalizedQuery","toLowerCase","includes","sort","b","localeCompare","App","visiblePeople","setSortField","_this","_ref2","handleQueryChange","event","target","value","_ref3","_this$state","length","type","onChange","src_PeopleTable","ReactDOM","render","src_App_0","test","document","getElementById"],"mappings":"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","file":"static/js/main.2dd9065b.chunk.js","sourcesContent":["import React from 'react';\nimport './App.css';\nimport classNames from 'classnames/bind';\n\nconst Person = ({ person, handleSelect, isSelected }) => (\n  <tr\n    key={person.id}\n    onClick={handleSelect}\n    className={classNames({\n      [`person--lived-in-${person.century}-century`]: true,\n      PeopleTable__row: true,\n      'PeopleTable__row--selected': isSelected,\n    })}\n  >\n    <td>{person.id}</td>\n    <td className={classNames({\n      'Person--born-before_1650': person.born < 1650,\n      'Person--died-before_1800': person.died > 1800,\n    })}\n    >{person.name}\n    </td>\n    <td className={classNames({\n      'Person--female': person.sex === 'f',\n      'Person--male': person.sex === 'm',\n    })}\n    >\n      {person.sex}\n    </td>\n    <td>{person.born}</td>\n    <td>{person.died}</td>\n    <td>{person.mother}</td>\n    <td>{person.father}</td>\n    <td\n      className={classNames({\n        'Person--age-65': person.age >= 65,\n      })}\n    >\n      {person.age}\n    </td>\n    <td>{person.century}</td>\n    <td>{person.children}</td>\n  </tr>\n);\n\nexport default Person;\n","import React from 'react';\nimport Person from './Person';\nimport './App.css';\n\nclass PeopleTable extends React.Component {\n  state = {\n    selectedPersonId: null,\n  };\n\n  render() {\n    const { people, onSortFieldChanged } = this.props;\n    const { selectedPersonId } = this.state;\n    return (\n      <table className=\"PeopleTable\">\n        <thead>\n          <tr>\n            <th onClick={() => onSortFieldChanged('id')}>Id</th>\n            <th onClick={() => onSortFieldChanged('name')}>Name</th>\n            <th onClick={() => onSortFieldChanged('sex')}>Sex</th>\n            <th onClick={() => onSortFieldChanged('born')}>Born</th>\n            <th onClick={() => onSortFieldChanged('died')}>Died</th>\n            <th>Mother</th>\n            <th>Father</th>\n            <th onClick={() => onSortFieldChanged('age')}>Age</th>\n            <th onClick={() => onSortFieldChanged('century')}>Century</th>\n            <th>Children</th>\n          </tr>\n        </thead>\n        <tbody>\n          {people.map(person => (\n            <Person\n              person={person}\n              key={person.id}\n              isSelected={person.id === selectedPersonId}\n              handleSelect={() => {\n                this.setState({ selectedPersonId: person.id });\n              }}\n            />\n          ))}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nexport default PeopleTable;\n","import React from 'react';\nimport './App.css';\nimport PeopleTable from './PeopleTable';\n\nconst getPeopleFromServer = async () => {\n  const link = 'https://mate-academy.github.io/react_people-table/api/people.json';\n  const response = await fetch(link);\n  const peopleFromServer = await response.json();\n\n  return peopleFromServer.map((person, index) => ({\n    id: index + 1,\n    ...person,\n    age: person.died - person.born,\n    century: Math.ceil(person.died / 100),\n    children: peopleFromServer\n      .filter(child => (\n        child.father === person.name || child.mother === person.name\n      ))\n      .map(child => child.name).join(', '),\n  }));\n};\n\nconst getSortedPeople = (people, sortField, query) => {\n  const normalizedQuery = query.toLowerCase();\n  return people\n    .filter(\n      person => (person.name.toLowerCase().includes(normalizedQuery))\n    )\n    .sort((a, b) => {\n      switch (typeof a[sortField]) {\n        case 'string':\n          return a[sortField].localeCompare(b[sortField]);\n\n        case 'number':\n        case 'boolean':\n          return a[sortField] - b[sortField];\n\n        default:\n          return 0;\n      }\n    });\n};\n\nclass App extends React.Component {\n  people = [];\n  state = {\n    visiblePeople: [],\n    sortField: '',\n    query: '',\n  };\n\n  async componentDidMount() {\n    this.people = await getPeopleFromServer();\n\n    this.setState({ visiblePeople: this.people });\n  }\n\n  setSortField = (sortField) => {\n    this.setState(({ query }) => ({\n      sortField,\n      visiblePeople: getSortedPeople(this.people, sortField, query),\n    }));\n  };\n\n  handleQueryChange = (event) => {\n    const query = event.target.value;\n    this.setState(({ sortField }) => ({\n      query,\n      visiblePeople: getSortedPeople(this.people, sortField, query),\n    }));\n  };\n\n  render() {\n    const { visiblePeople, sortField, query } = this.state;\n\n    return (\n      <div className=\"App\">\n        <h1>\n          {visiblePeople.length}\n          {' '}\n          people sorted by\n          {' '}\n          {sortField}\n        </h1>\n\n        <input\n          type=\"text\"\n          value={query}\n          onChange={this.handleQueryChange}\n        />\n        <PeopleTable\n          people={visiblePeople}\n          onSortFieldChanged={this.setSortField}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App test={123} />, document.getElementById('root'));\n"],"sourceRoot":""}